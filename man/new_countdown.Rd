% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/0_import_load_data.R
\name{new_countdown}
\alias{new_countdown}
\title{Create a \code{cd_data} object from cleaned data and resolve the indicator group}
\usage{
new_countdown(
  .data,
  class = NULL,
  indicator_group = c("auto", "vaccine", "rmncah", "custom"),
  profile_name = NULL,
  profile = NULL
)
}
\arguments{
\item{.data}{Tibble after cleaning/merge.}

\item{indicator_group}{One of \code{"auto"}, \code{"vaccine"}, \code{"rmncah"}, \code{"custom"}.}

\item{profile}{For \code{"custom"}, the group name to select (must exist). Ignored otherwise.}
}
\value{
A tibble with class \code{cd_data} and \code{attr(, "indicator_group")} set to
the resolved name. Also sets \code{options(cd2030.selected_group)} via \code{\link[=set_selected_group]{set_selected_group()}}.
}
\description{
Validates required columns, resolves the concrete indicator group name from
the \strong{data} (\code{"auto"} detection supported), ensures the selected group's
indicators are fully present, sets the global selection, and returns a \code{cd_data}.
}
\examples{
\dontrun{
x <- .load_excel_data("data/country.xlsx", indicator_group = "auto")
cd <- new_countdown(x, indicator_group = "auto")
attr(cd, "indicator_group")
}

}
